<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é˜¿å½¤çš„æ—¶å…‰ç”»å»Š - æ—¶å…‰è½´</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Inter:wght@300;400;500&display=swap" rel="stylesheet">
</head>
<body>
    <!-- å¯¼èˆªæ  -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="index.html" class="logo">é˜¿å½¤çš„æ—¶å…‰ç”»å»Š</a>
            <div class="nav-links">
                <a href="index.html" class="nav-link">é¦–é¡µ</a>
                <a href="timeline.html" class="nav-link active">æ—¶å…‰è½´</a>
                <a href="gallery.html" class="nav-link">å…¨éƒ¨å±•å“</a>
                <a href="about.html" class="nav-link">å…³äº</a>
            </div>
        </div>
    </nav>

    <!-- æ—¶å…‰è½´é¡µé¢ -->
    <div class="timeline-container">
        <h1 class="timeline-title">æ—¶å…‰è½´</h1>

        <!-- æ¨ªå‘æ—¶å…‰è½´ -->
        <div class="timeline-horizontal" id="timelineContainer">

    <div class="memory-capsule fade-in" data-folder="01_åˆç…§" data-title="ã€Œå…‰å½±ä¹‹çº¦ã€åˆç…§é›†">
        <div class="capsule-image">
            <img data-src="æ—¶å…‰ç”»å»Š/01_åˆç…§/051A8523 æ‹·è´.jpg" alt="ã€Œå…‰å½±ä¹‹çº¦ã€åˆç…§é›†" class="lazy">
        </div>
        <div class="capsule-info">
            <div class="capsule-date">2024.09.19</div>
            <div class="capsule-location">ã€Œå…‰å½±ä¹‹çº¦ã€åˆç…§é›†</div>
        </div>
    </div>
    
    <div class="memory-capsule fade-in" data-folder="02_ç”Ÿæ—¥ç…§" data-title="ã€Œç”Ÿè¾°ç§è¯­ã€çºªå¿µé›†">
        <div class="capsule-image">
            <img data-src="æ—¶å…‰ç”»å»Š/02_ç”Ÿæ—¥ç…§/ç”Ÿæ—¥ç…§1.jpg" alt="ã€Œç”Ÿè¾°ç§è¯­ã€çºªå¿µé›†" class="lazy">
        </div>
        <div class="capsule-info">
            <div class="capsule-date">2022.07.12</div>
            <div class="capsule-location">ã€Œç”Ÿè¾°ç§è¯­ã€çºªå¿µé›†</div>
        </div>
    </div>
    
    <div class="memory-capsule fade-in" data-folder="03_æ—¥å¸¸æ¼‚äº®é¥­" data-title="ã€Œé£Ÿå…‰æµè½¬ã€ç¾é£Ÿè®°">
        <div class="capsule-image">
            <img data-src="æ—¶å…‰ç”»å»Š/03_æ—¥å¸¸æ¼‚äº®é¥­/æ—¥å¸¸1.jpg" alt="ã€Œé£Ÿå…‰æµè½¬ã€ç¾é£Ÿè®°" class="lazy">
        </div>
        <div class="capsule-info">
            <div class="capsule-date">2024.12.26</div>
            <div class="capsule-location">ã€Œé£Ÿå…‰æµè½¬ã€ç¾é£Ÿè®°</div>
        </div>
    </div>
    
    <div class="memory-capsule fade-in" data-folder="04_äº‘å—æ—…æ¸¸" data-title="ã€Œæ»‡è¡Œæ¼«è®°ã€æ¸¸è®°">
        <div class="capsule-image">
            <img data-src="æ—¶å…‰ç”»å»Š/04_äº‘å—æ—…æ¸¸/æ—…æ¸¸3.jpg" alt="ã€Œæ»‡è¡Œæ¼«è®°ã€æ¸¸è®°" class="lazy">
        </div>
        <div class="capsule-info">
            <div class="capsule-date">2024.08.28</div>
            <div class="capsule-location">ã€Œæ»‡è¡Œæ¼«è®°ã€æ¸¸è®°</div>
        </div>
    </div>
    
    <div class="memory-capsule fade-in" data-folder="05_æ—¥å¸¸ç¾ç…§" data-title="ã€Œæ—¥å¸¸æ‹¾å…‰ã€ç¾äººè®°">
        <div class="capsule-image">
            <img data-src="æ—¶å…‰ç”»å»Š/05_æ—¥å¸¸ç¾ç…§/æ—¥å¸¸ç¾ç…§3.jpg" alt="ã€Œæ—¥å¸¸æ‹¾å…‰ã€ç¾äººè®°" class="lazy">
        </div>
        <div class="capsule-info">
            <div class="capsule-date">2025.04.28</div>
            <div class="capsule-location">ã€Œæ—¥å¸¸æ‹¾å…‰ã€ç¾äººè®°</div>
        </div>
    </div>
    
    <div class="memory-capsule fade-in" data-folder="06_æ—¥å¸¸è‡ªæ‹" data-title="ã€Œé•œä¸­çµ®è¯­ã€è‡ªç”»åƒ">
        <div class="capsule-image">
            <img data-src="æ—¶å…‰ç”»å»Š/06_æ—¥å¸¸è‡ªæ‹/æ—¥å¸¸1.jpg" alt="ã€Œé•œä¸­çµ®è¯­ã€è‡ªç”»åƒ" class="lazy">
        </div>
        <div class="capsule-info">
            <div class="capsule-date">2025.06.19</div>
            <div class="capsule-location">ã€Œé•œä¸­çµ®è¯­ã€è‡ªç”»åƒ</div>
        </div>
    </div>
    
    <div class="memory-capsule fade-in" data-folder="07_æ¯•ä¸šç…§" data-title="ã€ŒéŸ¶åä¼¼é”¦ã€æ¯•ä¸šå­£">
        <div class="capsule-image">
            <img data-src="æ—¶å…‰ç”»å»Š/07_æ¯•ä¸šç…§/æ¯•ä¸šç…§1.jpg" alt="ã€ŒéŸ¶åä¼¼é”¦ã€æ¯•ä¸šå­£" class="lazy">
        </div>
        <div class="capsule-info">
            <div class="capsule-date">2022.07.19</div>
            <div class="capsule-location">ã€ŒéŸ¶åä¼¼é”¦ã€æ¯•ä¸šå­£</div>
        </div>
    </div>
    
        </div>
    </div>

    <!-- åŒè”ç”»å¯¹æ¯”åŒº -->
    <div class="diptych-zone hidden" id="diptychZone">
        <div class="diptych-item">
            <div class="diptych-slot" id="diptychSlot1" data-filled="false">
                <h3>ç¬¬ä¸€å¼ ç…§ç‰‡</h3>
                <img src="" alt="ç¬¬ä¸€å¼ ç…§ç‰‡" class="diptych-image">
                <div class="diptych-info">
                    <div class="diptych-date">--</div>
                    <div class="diptych-emotion">--</div>
                </div>
            </div>
        </div>

        <div class="diptych-item">
            <div class="diptych-slot" id="diptychSlot2" data-filled="false">
                <h3>ç¬¬äºŒå¼ ç…§ç‰‡</h3>
                <img src="" alt="ç¬¬äºŒå¼ ç…§ç‰‡" class="diptych-image">
                <div class="diptych-info">
                    <div class="diptych-date">--</div>
                    <div class="diptych-emotion">--</div>
                </div>
            </div>
        </div>

        <div class="diptych-actions">
            <button class="share-button" id="shareButton">ğŸ“¤ åˆ†äº«å¯¹æ¯”å›¾</button>
        </div>
    </div>

    <!-- èƒŒæ™¯éŸ³ä¹æ§åˆ¶ -->
    <div class="bgm-control">
        <button id="bgmToggle" class="bgm-button">ğŸµ èƒŒæ™¯éŸ³ä¹</button>
        <audio id="bgmAudio" loop src="èœ·èŠ±ä»•å¥³ - Kiss me Kiss me.mp3">
        </audio>
    </div>

    <script src="script.js"></script>


<style>
.gallery-modal {
    display: none;
    position: fixed;
    z-index: 2000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto;
    background: rgba(255, 255, 255, 0.6); /* åŠé€æ˜ç™½è‰²èƒŒæ™¯ */
    backdrop-filter: blur(10px); /* æ¯›ç»ç’ƒæ•ˆæœ */
    animation: fadeIn 0.3s ease;
}

.modal-content {
    background-color: rgba(248, 245, 240, 0.95); /* åŠé€æ˜ç±³ç™½ */
    backdrop-filter: blur(5px); /* å†…å®¹åŒºåŸŸä¹Ÿæ·»åŠ è½»å¾®æ¯›ç»ç’ƒæ•ˆæœ */
    margin: 5% auto;
    padding: 30px;
    width: 85%;
    max-width: 1200px;
    border-radius: 12px;
    box-shadow: 0 10px 50px rgba(0, 0, 0, 0.3); /* æ›´æŸ”å’Œçš„é˜´å½± */
    animation: slideUp 0.3s ease;
}

.close-modal {
    color: var(--text-primary);
    float: right;
    font-size: 35px;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s ease;
}

.close-modal:hover {
    color: var(--accent-color);
    transform: rotate(180deg);
}

#modalTitle {
    font-family: var(--serif-font);
    font-size: 2.5rem;
    color: var(--text-primary);
    margin-bottom: 30px;
    text-align: center;
    border-bottom: 2px solid var(--accent-color);
    padding-bottom: 10px;
}

.modal-gallery {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 12px; /* å‡å°é—´è· */
    padding: 15px 0; /* å‡å°ä¸Šä¸‹å†…è¾¹è· */
}

.modal-gallery img {
    width: 100%;
    height: auto; /* è‡ªé€‚åº”é«˜åº¦ï¼Œä¿æŒåŸå§‹æ¯”ä¾‹ */
    max-height: 350px; /* å¢åŠ æœ€å¤§é«˜åº¦ï¼Œå‡å°‘ç•™ç™½ */
    object-fit: contain; /* å®Œæ•´æ˜¾ç¤ºå›¾ç‰‡ */
    object-position: center; /* å±…ä¸­æ˜¾ç¤º */
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1); /* æ›´ç²¾è‡´çš„é˜´å½± */
    transition: all 0.3s ease;
    cursor: pointer;
    background-color: transparent; /* é€æ˜èƒŒæ™¯ */
    padding: 0; /* ç§»é™¤å†…è¾¹è· */
    margin: 0 auto; /* å±…ä¸­å›¾ç‰‡ */
    display: block; /* å—çº§æ˜¾ç¤º */
}

.modal-gallery img:hover {
    transform: translateY(-3px) scale(1.02); /* æ›´å¾®å¦™çš„æ‚¬åœæ•ˆæœ */
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

@keyframes slideUp {
    from { transform: translateY(50px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
}

@media (max-width: 768px) {
    .modal-content {
        margin: 10% auto;
        width: 95%;
        padding: 20px;
    }

    #modalTitle {
        font-size: 1.8rem;
    }

    .modal-gallery {
        grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
        gap: 15px;
    }

    .modal-gallery img {
        height: 150px;
    }
}

/* æ—¶å…‰è½´èŠ‚ç‚¹åŠ¨ç”»å’Œæ ·å¼ */
.memory-capsule {
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

.memory-capsule::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 100%);
    opacity: 0;
    transition: opacity 0.3s ease;
    z-index: 1;
}

.memory-capsule:hover::before {
    opacity: 1;
}

.memory-capsule:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
}

.capsule-info {
    padding: 15px;
    text-align: center;
    background: rgba(255, 255, 255, 0.95);
    border-radius: 0 0 8px 8px;
    position: relative;
    z-index: 2;
}

.capsule-date {
    font-family: var(--serif-font);
    font-size: 1.1rem;
    color: var(--accent-color);
    margin-bottom: 5px;
    letter-spacing: 1px;
}

.capsule-location {
    font-family: var(--serif-font);
    font-size: 0.95rem;
    color: var(--text-primary);
    font-weight: 500;
    line-height: 1.4;
}

/* æ—¶å…‰è½´èŠ‚ç‚¹åŠ è½½åŠ¨ç”» */
@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.memory-capsule.fade-in {
    animation: fadeInUp 0.6s ease forwards;
}

/* è®°å¿†èƒ¶å›Šé«˜å…‰è£…é¥° */
.memory-capsule::after {
    content: '';
    position: absolute;
    top: -5px;
    left: 50%;
    transform: translateX(-50%);
    width: 20px;
    height: 20px;
    background: radial-gradient(circle, rgba(255,255,255,0.9) 0%, rgba(212,184,140,0.3) 50%, transparent 100%);
    border-radius: 50%;
    filter: blur(8px);
    opacity: 0;
    transition: all 0.3s ease;
    z-index: 10;
}

.memory-capsule:hover::after {
    opacity: 1;
    transform: translateX(-50%) translateY(-5px);
    width: 30px;
    height: 30px;
}

/* è®°å¿†èƒ¶å›Šå†…å±‚é«˜å…‰ */
.memory-capsule .capsule-image::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 100px;
    height: 100px;
    background: radial-gradient(circle, rgba(255,255,255,0.2) 0%, transparent 70%);
    border-radius: 50%;
    opacity: 0;
    transition: all 0.3s ease;
    pointer-events: none;
}

.memory-capsule:hover .capsule-image::after {
    opacity: 1;
    width: 120px;
    height: 120px;
}

/* æ—¶å…‰è½´èƒŒæ™¯å…‰å½± */
.timeline-horizontal {
    position: relative;
}

.timeline-horizontal::after {
    content: '';
    position: absolute;
    top: 80px;
    left: 50%;
    transform: translateX(-50%);
    width: 100%;
    height: 10px;
    background: linear-gradient(90deg, transparent 0%, rgba(212,184,140,0.1) 50%, transparent 100%);
    filter: blur(10px);
    pointer-events: none;
}

/* æ—¶å…‰è½´è£…é¥°å…ƒç´  */
.timeline-container::before {
    content: '';
    position: absolute;
    top: 120px;
    left: 50%;
    transform: translateX(-50%);
    width: 60%;
    height: 2px;
    background: linear-gradient(90deg, transparent 0%, var(--accent-color) 50%, transparent 100%);
    opacity: 0.3;
    z-index: -1;
}

/* è®°å¿†èƒ¶å›Šå›¾ç‰‡æ—‹è½¬æ•ˆæœ */
.memory-capsule:hover .capsule-image {
    animation: capsuleRotate 0.6s ease;
}

@keyframes capsuleRotate {
    0%, 100% {
        transform: rotate(0deg);
    }
    25% {
        transform: rotate(5deg);
    }
    75% {
        transform: rotate(-5deg);
    }
}

/* æ—¶å…‰è½´æ ‡é¢˜ä¼˜é›…åŠ¨ç”» */
.timeline-title::before {
    content: '';
    position: absolute;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 100px;
    height: 2px;
    background: var(--accent-color);
    animation: titleLine 1s ease-out forwards;
}

@keyframes titleLine {
    from {
        width: 0;
    }
    to {
        width: 100px;
    }
}

.memory-capsule:nth-child(1) { animation-delay: 0.1s; }
.memory-capsule:nth-child(2) { animation-delay: 0.2s; }
.memory-capsule:nth-child(3) { animation-delay: 0.3s; }
.memory-capsule:nth-child(4) { animation-delay: 0.4s; }
.memory-capsule:nth-child(5) { animation-delay: 0.5s; }
.memory-capsule:nth-child(6) { animation-delay: 0.6s; }
.memory-capsule:nth-child(7) { animation-delay: 0.7s; }

/* æ‚¬åœæ—¶çš„æ–‡å­—åŠ¨ç”» */
.memory-capsule:hover .capsule-location {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #667eea 100%);
    background-size: 200% auto;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    animation: textShine 2s ease-in-out infinite;
}

@keyframes textShine {
    0%, 100% {
        background-position: 0% 50%;
    }
    50% {
        background-position: 100% 50%;
    }
}

/* æ¼‚æµ®æ°”æ³¡æ•ˆæœ */
.bubble {
    position: fixed;
    width: 20px;
    height: 20px;
    background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.9) 0%, rgba(212,184,140,0.5) 50%, transparent 100%);
    border-radius: 50%;
    pointer-events: all;
    cursor: pointer;
    opacity: 0.7;
    filter: blur(2px);
    z-index: 999;
    transition: all 0.3s ease;
}

.bubble:hover {
    opacity: 1;
    transform: scale(1.2);
}

/* æ°”æ³¡é£˜åŠ¨åŠ¨ç”» */
@keyframes bubbleFloat {
    0% {
        transform: translateX(0) translateY(0);
        opacity: 0.7;
    }
    25% {
        transform: translateX(20px) translateY(-20px);
        opacity: 0.8;
    }
    50% {
        transform: translateX(0) translateY(-40px);
        opacity: 0.9;
    }
    75% {
        transform: translateX(-20px) translateY(-20px);
        opacity: 0.8;
    }
    100% {
        transform: translateX(0) translateY(0);
        opacity: 0.7;
    }
}

/* æ°”æ³¡ç ´ç¢åŠ¨ç”» */
@keyframes bubbleBurst {
    0% {
        opacity: 1;
        transform: scale(1.2);
    }
    50% {
        opacity: 0.5;
        transform: scale(1.5);
    }
    100% {
        opacity: 0;
        transform: scale(0);
    }
}

.bubble.burst {
    animation: bubbleBurst 0.5s ease forwards;
}

/* æ°´èŠ±æº…å°„æ•ˆæœ */
.splash-particle {
    position: fixed;
    width: 10px;
    height: 10px;
    background: rgba(212, 184, 140, 0.9);
    border-radius: 50%;
    pointer-events: none;
    z-index: 1000;
}

@keyframes splash {
    0% {
        transform: scale(1) translate(0, 0);
        opacity: 1;
    }
    100% {
        transform: scale(0) translate(var(--dx), var(--dy));
        opacity: 0;
    }
}
</style>



    <!-- å›¾ç‰‡ç”»å»Šå¼¹çª— -->
    <div id="galleryModal" class="gallery-modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h2 id="modalTitle"></h2>
            <div class="modal-gallery" id="modalGallery">
                <!-- å›¾ç‰‡å°†é€šè¿‡JavaScriptåŠ¨æ€åŠ è½½ -->
            </div>
        </div>
    </div>

<script>
// æ—¶å…‰è½´å›¾ç‰‡æ•°æ®
const timelineImageData = {"01_åˆç…§": ["æ—¶å…‰ç”»å»Š/01_åˆç…§/051A8523 æ‹·è´.jpg", "æ—¶å…‰ç”»å»Š/01_åˆç…§/051A8554 æ‹·è´.jpg", "æ—¶å…‰ç”»å»Š/01_åˆç…§/051A8570 æ‹·è´.jpg", "æ—¶å…‰ç”»å»Š/01_åˆç…§/051A8615 æ‹·è´.jpg", "æ—¶å…‰ç”»å»Š/01_åˆç…§/051A8620 æ‹·è´.jpg", "æ—¶å…‰ç”»å»Š/01_åˆç…§/051A8625 æ‹·è´.jpg", "æ—¶å…‰ç”»å»Š/01_åˆç…§/051A8633 æ‹·è´.jpg", "æ—¶å…‰ç”»å»Š/01_åˆç…§/051A8637 æ‹·è´.jpg", "æ—¶å…‰ç”»å»Š/01_åˆç…§/051A8652 æ‹·è´.jpg", "æ—¶å…‰ç”»å»Š/01_åˆç…§/051A8672 æ‹·è´.jpg"], "02_ç”Ÿæ—¥ç…§": ["æ—¶å…‰ç”»å»Š/02_ç”Ÿæ—¥ç…§/ç”Ÿæ—¥ç…§1.jpg", "æ—¶å…‰ç”»å»Š/02_ç”Ÿæ—¥ç…§/ç”Ÿæ—¥ç…§2.jpg", "æ—¶å…‰ç”»å»Š/02_ç”Ÿæ—¥ç…§/ç”Ÿæ—¥ç…§3.jpg", "æ—¶å…‰ç”»å»Š/02_ç”Ÿæ—¥ç…§/ç”Ÿæ—¥ç…§4.jpg", "æ—¶å…‰ç”»å»Š/02_ç”Ÿæ—¥ç…§/ç”Ÿæ—¥ç…§5.jpg", "æ—¶å…‰ç”»å»Š/02_ç”Ÿæ—¥ç…§/ç”Ÿæ—¥ç…§6.jpg", "æ—¶å…‰ç”»å»Š/02_ç”Ÿæ—¥ç…§/ç”Ÿæ—¥ç…§7.jpg", "æ—¶å…‰ç”»å»Š/02_ç”Ÿæ—¥ç…§/ç”Ÿæ—¥ç…§8.jpg"], "03_æ—¥å¸¸æ¼‚äº®é¥­": ["æ—¶å…‰ç”»å»Š/03_æ—¥å¸¸æ¼‚äº®é¥­/æ—¥å¸¸1.jpg", "æ—¶å…‰ç”»å»Š/03_æ—¥å¸¸æ¼‚äº®é¥­/æ—¥å¸¸2.jpg", "æ—¶å…‰ç”»å»Š/03_æ—¥å¸¸æ¼‚äº®é¥­/æ—¥å¸¸3.jpg", "æ—¶å…‰ç”»å»Š/03_æ—¥å¸¸æ¼‚äº®é¥­/æ—¥å¸¸4.jpg"], "04_äº‘å—æ—…æ¸¸": ["æ—¶å…‰ç”»å»Š/04_äº‘å—æ—…æ¸¸/æ—…æ¸¸1.jpg", "æ—¶å…‰ç”»å»Š/04_äº‘å—æ—…æ¸¸/æ—…æ¸¸2.jpg", "æ—¶å…‰ç”»å»Š/04_äº‘å—æ—…æ¸¸/æ—…æ¸¸3.jpg", "æ—¶å…‰ç”»å»Š/04_äº‘å—æ—…æ¸¸/æ—…æ¸¸4.jpg", "æ—¶å…‰ç”»å»Š/04_äº‘å—æ—…æ¸¸/æ—…æ¸¸5.jpg", "æ—¶å…‰ç”»å»Š/04_äº‘å—æ—…æ¸¸/æ—…æ¸¸6.png"], "05_æ—¥å¸¸ç¾ç…§": ["æ—¶å…‰ç”»å»Š/05_æ—¥å¸¸ç¾ç…§/æ—¥å¸¸ç¾ç…§1.jpg", "æ—¶å…‰ç”»å»Š/05_æ—¥å¸¸ç¾ç…§/æ—¥å¸¸ç¾ç…§2.jpg", "æ—¶å…‰ç”»å»Š/05_æ—¥å¸¸ç¾ç…§/æ—¥å¸¸ç¾ç…§3.jpg", "æ—¶å…‰ç”»å»Š/05_æ—¥å¸¸ç¾ç…§/æ—¥å¸¸ç¾ç…§4.jpg", "æ—¶å…‰ç”»å»Š/05_æ—¥å¸¸ç¾ç…§/æ—¥å¸¸ç¾ç…§5.jpg", "æ—¶å…‰ç”»å»Š/05_æ—¥å¸¸ç¾ç…§/æ—¥å¸¸ç¾ç…§6.jpg", "æ—¶å…‰ç”»å»Š/05_æ—¥å¸¸ç¾ç…§/æ—¥å¸¸ç¾ç…§7.jpg", "æ—¶å…‰ç”»å»Š/05_æ—¥å¸¸ç¾ç…§/æ—¥å¸¸ç¾ç…§8.jpg"], "06_æ—¥å¸¸è‡ªæ‹": ["æ—¶å…‰ç”»å»Š/06_æ—¥å¸¸è‡ªæ‹/æ—¥å¸¸1.jpg", "æ—¶å…‰ç”»å»Š/06_æ—¥å¸¸è‡ªæ‹/æ—¥å¸¸2.jpg", "æ—¶å…‰ç”»å»Š/06_æ—¥å¸¸è‡ªæ‹/æ—¥å¸¸3.jpg", "æ—¶å…‰ç”»å»Š/06_æ—¥å¸¸è‡ªæ‹/æ—¥å¸¸4.jpg", "æ—¶å…‰ç”»å»Š/06_æ—¥å¸¸è‡ªæ‹/æ—¥å¸¸5.jpg", "æ—¶å…‰ç”»å»Š/06_æ—¥å¸¸è‡ªæ‹/æ—¥å¸¸6.jpg", "æ—¶å…‰ç”»å»Š/06_æ—¥å¸¸è‡ªæ‹/æ—¥å¸¸7.jpg", "æ—¶å…‰ç”»å»Š/06_æ—¥å¸¸è‡ªæ‹/æ—¥å¸¸8.jpg"], "07_æ¯•ä¸šç…§": ["æ—¶å…‰ç”»å»Š/07_æ¯•ä¸šç…§/æ¯•ä¸šç…§1.jpg", "æ—¶å…‰ç”»å»Š/07_æ¯•ä¸šç…§/æ¯•ä¸šç…§2.jpg", "æ—¶å…‰ç”»å»Š/07_æ¯•ä¸šç…§/æ¯•ä¸šç…§3.jpg", "æ—¶å…‰ç”»å»Š/07_æ¯•ä¸šç…§/æ¯•ä¸šç…§4.jpg", "æ—¶å…‰ç”»å»Š/07_æ¯•ä¸šç…§/æ¯•ä¸šç…§5.jpg", "æ—¶å…‰ç”»å»Š/07_æ¯•ä¸šç…§/æ¯•ä¸šç…§6.jpg", "æ—¶å…‰ç”»å»Š/07_æ¯•ä¸šç…§/æ¯•ä¸šç…§7.jpg", "æ—¶å…‰ç”»å»Š/07_æ¯•ä¸šç…§/æ¯•ä¸šç…§8.jpg"]};

// åˆå§‹åŒ–ç”»å»Šæ¨¡æ€æ¡†
function initGalleryModal() {
    const modal = document.getElementById('galleryModal');
    const closeBtn = document.querySelector('.close-modal');
    const modalTitle = document.getElementById('modalTitle');
    const modalGallery = document.getElementById('modalGallery');

    // ç‚¹å‡»è®°å¿†èƒ¶å›Šæ‰“å¼€æ¨¡æ€æ¡†
    document.querySelectorAll('.memory-capsule').forEach(capsule => {
        capsule.addEventListener('click', () => {
            const folder = capsule.dataset.folder;
            const title = capsule.dataset.title;

            // è®¾ç½®æ ‡é¢˜
            modalTitle.textContent = title;

            // åŠ è½½å›¾ç‰‡
            const images = timelineImageData[folder] || [];
            modalGallery.innerHTML = '';

            if (images.length > 0) {
                images.forEach(imageUrl => {
                    const img = document.createElement('img');
                    img.src = imageUrl;
                    img.alt = title;
                    modalGallery.appendChild(img);
                });
            } else {
                modalGallery.innerHTML = '<p style="text-align: center; padding: 50px 0; color: var(--text-secondary);">è¯¥ç›¸å†Œæš‚æ— ç…§ç‰‡</p>';
            }

            // æ˜¾ç¤ºæ¨¡æ€æ¡†
            modal.style.display = 'block';
        });
    });

    // å…³é—­æ¨¡æ€æ¡†
    closeBtn.addEventListener('click', () => {
        modal.style.display = 'none';
    });

    // ç‚¹å‡»å¤–éƒ¨å…³é—­
    window.addEventListener('click', (e) => {
        if (e.target === modal) {
            modal.style.display = 'none';
        }
    });
}

// åˆ›å»ºæ¼‚æµ®æ°”æ³¡
function createBubbles() {
    const bubbleCount = 15;
    
    for (let i = 0; i < bubbleCount; i++) {
        const bubble = document.createElement('div');
        bubble.className = 'bubble';
        
        // éšæœºä½ç½®
        const x = Math.random() * window.innerWidth;
        const y = Math.random() * window.innerHeight;
        bubble.style.left = x + 'px';
        bubble.style.top = y + 'px';
        
        // éšæœºå¤§å°
        const size = 15 + Math.random() * 30;
        bubble.style.width = size + 'px';
        bubble.style.height = size + 'px';
        
        // éšæœºåŠ¨ç”»å»¶è¿Ÿ
        const delay = Math.random() * 5;
        bubble.style.animationDelay = delay + 's';
        
        // æ·»åŠ ç‚¹å‡»äº‹ä»¶
        bubble.addEventListener('click', () => {
            // åˆ›å»ºæ°´èŠ±æº…å°„æ•ˆæœ
            const particleCount = 12;
            const bubbleRect = bubble.getBoundingClientRect();
            const centerX = bubbleRect.left + bubbleRect.width / 2;
            const centerY = bubbleRect.top + bubbleRect.height / 2;
            
            for (let i = 0; i < particleCount; i++) {
                const angle = (i / particleCount) * Math.PI * 2;
                const distance = 30 + Math.random() * 30;
                const dx = Math.cos(angle) * distance;
                const dy = Math.sin(angle) * distance;
                
                const particle = document.createElement('div');
                particle.className = 'splash-particle';
                particle.style.left = centerX + 'px';
                particle.style.top = centerY + 'px';
                particle.style.setProperty('--dx', dx + 'px');
                particle.style.setProperty('--dy', dy + 'px');
                particle.style.animation = 'splash 0.4s ease forwards';
                
                document.body.appendChild(particle);
                
                // åŠ¨ç”»ç»“æŸåç§»é™¤ç²’å­
                setTimeout(() => particle.remove(), 400);
            }
            
            bubble.classList.add('burst');
            setTimeout(() => {
                bubble.remove();
            }, 500);
        });
        
        document.body.appendChild(bubble);
        
        // ç¼“æ…¢é£˜åŠ¨åŠ¨ç”»
        const floatDuration = 10 + Math.random() * 10;
        bubble.style.animation = `bubbleFloat ${floatDuration}s ease-in-out infinite`;
    }
}

// é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
document.addEventListener('DOMContentLoaded', () => {
    initGalleryModal();
    createBubbles();
});
</script>
</body>
</html>
